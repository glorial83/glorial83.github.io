---
title: "Proxmox ì„¤ì¹˜"
categories: devops
tags: proxmox tailscale
last_modified_at: 2024-08-14T05:11:50+09:00
classes: wide
# toc: true
# toc_sticky: true
---

> Openstackì€ Cloudë¡œì¨ êµ‰ì¥íˆ ê¸°ëŠ¥ì´ ê°•ë ¥í•˜ì˜€ë‹¤  
> í•˜ì§€ë§Œ ì†Œê·œëª¨ì´ê¸° ë•Œë¬¸ì— ì¢€ ë” ê°€ë²¼ìš´ ë¦¬ì†ŒìŠ¤ë¡œ Cloudë¥¼ êµ¬ì„±í•˜ê³  ì‹¶ì—ˆë‹¤  
> ê·¸ë˜ì„œ ê¸°ì–µì„ ë”ë“¬ë˜ ì¤‘ ì˜ˆì „ì— Youtubeì—ì„œ ë³´ì•˜ë˜ ëŒ“ê¸€ì„ íŒíŠ¸ ì‚¼ì•„ Proxmoxë¥¼ ì„¤ì •í•´ ë³´ì•˜ë‹¤  
> ì™¸ë¶€ì—ì„œ ì ‘ì†í•˜ê¸° ìœ„í•´ `pfSense + NPM` ë„ ì¶”ê°€í•´ ë³´ì•˜ì§€ë§Œ HTTPì™€ HTTPSì— íŠ¹í™”ë˜ì—ˆê¸° ë•Œë¬¸ì— âŒ  
> `Tailscale`ì„ ë°œê²¬í•˜ê³  routeë¥¼ í™œìš©í•˜ì—¬ ì™¸ë¶€ ì ‘ì†ë„ ì„±ê³µ í•  ìˆ˜ ìˆì—ˆë‹¤ ğŸ”†

## ì¥ë¹„

- CPU : 4 x Intel(R) Core(TM) i5-5200U CPU @ 2.20GHz (1 Socket)
- RAM : 8GB
- SSD : 128GB (primary)
- HDD : 500GB
- ìœ ì„ ëœ (ë¬´ì„ ëœì€ ì˜ ì•ˆë˜ë”ë¼)

## Proxmox ì¤€ë¹„

[Proxmox VE 8.2 ISO](https://proxmox.com/en/downloads/proxmox-virtual-environment/iso)

## Rufus ì„¤ì¹˜ (+USB)

## Proxmox ì„¤ì¹˜

1. Install Proxmox VE (Graphical) ì„ íƒ
2. ë§Œì•½ No support for hardware-accelerated KVM ëœ¨ë©´ `OK`
3. Target Harddisk : `default`
4. Country : `default(South Korea)`
5. Layout : `English`
6. Password, Email ì…ë ¥
7. Network : `default` - ë§Œì•½ ì˜¬ë°”ë¥´ì§€ ì•Šì€ IPëŒ€ì—­ì´ ë‚˜ì˜¨ë‹¤ë©´ ì˜ì‹¬í•´ ë³¼ê²ƒ
8. Hostname : `ì•„ë¬´ ì˜ë¯¸ ì—†ëŠ” ë„ë©”ì¸ìœ¼ë¡œ ì…ë ¥`

## Proxmox Console ì ‘ì†

ë™ì¼ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì˜ PCì—ì„œ `http://Proxmox IP:8006` ìœ¼ë¡œ ì ‘ì†

![Proxmox-console](/images/2024-08-14-15-31-44.png)

ìœ„ì—ì„œ ë§Œë“  Passwordë¥¼ ì…ë ¥í•˜ê³ 
êµ¬ë…ê´€ë ¨ ê²½ê³ ì°½ì´ ë‚˜ì˜¤ë©´ `OK` í´ë¦­
![Proxmox-subscription](/images/2024-08-14-15-33-27.png)

## HDD ì¶”ê°€

SSDê°€ Primaryë¡œ ì¡í˜€ìˆì–´ì„œ Proxmoxê°€ SSDì— ì„¤ì¹˜ ë˜ì—ˆë‹¤  
HDDë¥¼ ì¶”ê°€ë¡œ ë§ˆìš´íŠ¸ í•˜ì—¬ lvmì— ë“±ë¡í•˜ì  
ì•„ë˜ ì²˜ëŸ¼ /dev/sdbëŠ” íŒŒí‹°ì…˜ì´ ì¡í˜€ìˆì§€ ì•Šì„ ê²ƒì´ë‹¤

```
fdisk -l
```

![fdisk](/images/2024-08-14-15-40-23.png)

```
# íŒŒí‹°ì…˜ ì¶”ê°€
fdisk /dev/sdb

# íŒŒí‹°ì…˜ ë¶„í• 
Command(m for help) : n

# íŒŒí‹°ì…˜ êµ¬ë¶„
Command action
   e   extended
   p   primary partition (1-4)
p

# íŒŒí‹°ì…˜ ì„ íƒ
Partition number (1-4): 1

# íŒŒí‹°ì…˜ í¬ê¸° ì„ íƒ
First cylinder : ì—”í„°
Last cylinder or +size or +sizeM or +sizeK : ì—”í„°

# ì €ì¥
Command (m for help): w
The partition table has been altered!
```

Proxmox Consoleì˜ Disks ì¡°íšŒ

![Disk](/images/2024-08-14-15-54-12.png)

Disks - LVM - Create Volume Groupì—ì„œ HDD ì¶”ê°€

![LVM](/images/2024-08-14-15-55-15.png)

í•˜ì§€ë§Œ LVMë³´ë‹¤ [LVM-Thin](https://pve.proxmox.com/pve-docs/chapter-pvesm.html#_storage_types)ìœ¼ë¡œ ë§Œë“¤ì–´ì•¼ Snapshotì´ ê°€ëŠ¥í•˜ë‹¤  
![storage-types](/images/2024-08-14-15-56-37.png)

## ì´ë¯¸ì§€(ISO) ì—…ë¡œë“œ

ì•„ë˜ ISOë¥¼ ì¤€ë¹„ í•˜ì—¬ `local(cloud)`ì— ì—…ë¡œë“œ í•˜ì

- [Stable virtio-win ISO](https://github.com/virtio-win/virtio-win-pkg-scripts/blob/master/README.md)
- Windows Image

  ![images](/images/2024-08-14-16-22-51.png)

## Windows 10 VM ìƒì„±

General  
![win-general](/images/2024-08-14-16-26-23.png)

OS  
![win-os](/images/2024-08-14-16-27-06.png)

System  
![win-system](/images/2024-08-14-16-28-11.png)

Disks  
![win-disks](/images/2024-08-14-16-29-15.png)

CPU  
![win-cpu](/images/2024-08-14-16-30-00.png)

Memory  
![win-memory](/images/2024-08-14-16-30-31.png)

Network  
![win-network](/images/2024-08-14-16-31-02.png)

## VM Start ì „ ë¶€íŒ…ìˆœì„œë¥¼ ì¡°ì •í•œë‹¤

Network ë¶€íŒ… ì œì™¸

![win-bootorder](/images/2024-08-14-16-38-44.png)

## VM Start í›„ Consoleì— ì ‘ì†í•˜ì—¬ ìœˆë„ìš° ì„¤ì¹˜ì™€ í•„ìˆ˜ ìœ í‹¸ì„ ì„¤ì¹˜ í›„ Templateìœ¼ë¡œ ë§Œë“¤ì

![vm-template](/images/2024-08-14-16-33-45.png)

## ì„¤ì¹˜ ì™„ë£Œ í›„ Shutdown í•œ ë’¤ ì‚½ì…ëœ ISOë¥¼ ì œê±°í•˜ì

![vm-remove-iso](/images/2024-08-14-16-40-22.png)

## VM Start í•˜ì—¬ Consoleì— ì ‘ì†

![vm-console](/images/2024-08-14-16-41-58.png)

## Templateì„ ë°”íƒ•ìœ¼ë¡œ VM ìƒì„±

`Full Clone`ì„ ì„ íƒí•´ì•¼ í•œë‹¤  
ğŸ’¥LVM-Thinì´ë¼ë©´ `Linked Clone`ë„ ê°€ëŠ¥ í•¨

![vm-create](/images/2024-08-14-16-34-48.png)

# ì°¸ê³ URL

- https://svrforum.com/svr/626324
- https://eunginius.tistory.com/entry/03-Proxmox-VE%EC%9D%98-%EC%84%A4%EC%B9%98
- https://velog.io/@minboykim/%EB%8D%94-%EC%9D%B4%EC%83%81-%ED%94%84%EB%A6%AC%ED%8B%B0%EC%96%B4%EB%8A%94-%EA%B7%B8%EB%A7%8C.-%EB%82%98%EB%A7%8C%EC%9D%98-%EC%82%AC%EC%84%A4-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0#proxmox-%EC%84%A4%EC%B9%98
- https://eunginius.tistory.com/entry/03-Proxmox-VE%EC%9D%98-%EC%84%A4%EC%B9%98
- https://m.blog.naver.com/kimmingul/220639741333
- https://svrforum.com/os/133363
- https://blog.dalso.org/it/24585
